import{$ as X,C as N,Da as J,E as W,F as c,G as l,H as $,J as j,K as _,M as L,O as U,P as Z,Q as p,R as a,S as v,U as q,V as T,W as H,X as Q,Z as m,_ as w,a as I,d,ea as x,f as y,fa as O,g as E,i as M,ia as r,j as F,ja as s,k as S,ka as P,l as A,m as B,p as g,s as R,sa as Y,u as C,ua as k,va as G,w as z,x as b}from"./chunk-FB3KRMNT.js";var K=(()=>{let e=class e{constructor(i,t){this.el=i,this.renderer=t,this.publishedAt=""}ngOnInit(){let i=this.getTimeDifferent();i<7?this.renderer.addClass(this.el.nativeElement,"less-7-days"):i>=7&&i<31?this.renderer.addClass(this.el.nativeElement,"to-7-day-from-1-month"):i>=31&&i<181?this.renderer.addClass(this.el.nativeElement,"to-1-from-6-month"):this.renderer.addClass(this.el.nativeElement,"more-6-month")}getTimeDifferent(){return(new Date().getTime()-new Date(this.publishedAt).getTime())/864e5}};e.\u0275fac=function(t){return new(t||e)(l(N),l($))},e.\u0275dir=z({type:e,selectors:[["","appColorLine",""]],inputs:{publishedAt:"publishedAt"},standalone:!0});let n=e;return n})();var ee=(()=>{let e=class e{transform(i,t=40){return i.length>t?`${i.substring(0,t)}...`:i}};e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=b({name:"sliceTitle",type:e,pure:!0,standalone:!0});let n=e;return n})();var D=(()=>{let e=class e{constructor(i){this.http=i,this.loading=new d(!1),this.videos=new d([]),this.video=new d(void 0)}getAll(i){return this.http.get("search",{params:new k({fromObject:{type:"video",part:"snippet",maxResults:15,q:i}})}).pipe(F(500),S(2),E(t=>t.items.map(o=>o.id.videoId).join(",")),A(t=>this.getAllById(t)),M(t=>y(`Bad Promise: ${t}`)))}getAllById(i){return this.http.get("videos",{params:new k({fromObject:{part:"snippet,statistics",id:i}})}).pipe(S(2),B(t=>{this.videos.next(t.items)}),M(t=>y(`Bad Promise: ${t}`)))}getById(i){return this.http.get("videos",{params:new k({fromObject:{part:"snippet,statistics",id:i}})}).pipe(S(2),B(t=>{this.video.next(t.items[0])}),M(t=>y(`Bad Promise: ${t}`)))}addVideo(){}loadingChange(i){this.loading.next(i)}cleanVideo(){this.video.next(void 0)}};e.\u0275fac=function(t){return new(t||e)(R(G))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ce=["*"],ie=(()=>{let e=class e{constructor(i,t){this.router=i,this.videoService=t,this.id=""}handleClickButton(){this.id&&(this.videoService.cleanVideo(),this.router.navigate(["main",this.id]))}};e.\u0275fac=function(t){return new(t||e)(l(J),l(D))},e.\u0275cmp=C({type:e,selectors:[["app-custom-button"]],inputs:{id:"id"},standalone:!0,features:[x],ngContentSelectors:ce,decls:2,vars:0,consts:[[1,"item__button",3,"click"]],template:function(t,o){t&1&&(H(),p(0,"button",0),q("click",function(){return o.handleClickButton()}),Q(1),a())},styles:[".item__button[_ngcontent-%COMP%]{width:120px;height:32px;cursor:pointer;padding:0;margin:0;border:none;border-radius:5px;box-shadow:1px 0 3px #2f80ed;flex-shrink:0;background-color:#2f80ed;color:#fff;font-size:12px}.item__button[_ngcontent-%COMP%]:hover{background-color:#60a5fa}"],changeDetection:0});let n=e;return n})();var ne=(()=>{let e=class e{constructor(){this.video=null}randomDislike(){return this.video?Math.round(Number(this.video.statistics.likeCount)/100):0}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C({type:e,selectors:[["app-search-item"]],inputs:{video:"video"},standalone:!0,features:[x],decls:22,vars:12,consts:[[1,"item"],[1,"item__poster"],[3,"src","alt"],[1,"item__statistics"],[1,"statistics__view","stat"],[1,"view__icon"],[1,"statistics__like","stat"],[1,"like__icon"],[1,"statistics__dislike","stat"],[1,"dislike__icon"],[1,"statistics__comments","stat"],[1,"comment__icon"],[1,"item__title",3,"title"],[1,"item__button-block",3,"id"],["appColorLine","",1,"item__line",3,"publishedAt"]],template:function(t,o){t&1&&(p(0,"div",0)(1,"div",1),v(2,"img",2),a(),p(3,"div",3)(4,"div",4),v(5,"div",5),m(6),a(),p(7,"div",6),v(8,"div",7),m(9),a(),p(10,"div",8),v(11,"div",9),m(12),a(),p(13,"div",10),v(14,"div",11),m(15),a()(),p(16,"p",12),m(17),r(18,"sliceTitle"),a(),p(19,"app-custom-button",13),m(20," more... "),a(),v(21,"div",14),a()),t&2&&(c(2),_("src",o.video==null||o.video.snippet==null||o.video.snippet.thumbnails==null||o.video.snippet.thumbnails.high==null?null:o.video.snippet.thumbnails.high.url,W)("alt",o.video==null||o.video.snippet==null?null:o.video.snippet.title),c(4),w(" ",o.video==null||o.video.statistics==null?null:o.video.statistics.viewCount," "),c(3),w(" ",o.video==null||o.video.statistics==null?null:o.video.statistics.likeCount," "),c(3),w(" ",o.randomDislike()," "),c(3),w(" ",o.video==null||o.video.statistics==null?null:o.video.statistics.commentCount," "),c(),_("title",o.video==null||o.video.snippet==null?null:o.video.snippet.title),c(),w(" ",s(18,10,(o.video==null||o.video.snippet==null?null:o.video.snippet.title)||"")," "),c(2),_("id",o.video==null?null:o.video.id),c(2),_("publishedAt",(o.video==null||o.video.snippet==null?null:o.video.snippet.publishedAt)||""))},dependencies:[ee,K,ie],styles:['.item[_ngcontent-%COMP%]{width:263px;height:327px;border-radius:5px;box-sizing:border-box;background-color:#e5e5e5;display:flex;flex-direction:column;align-items:center;position:relative;padding-top:20px;overflow:hidden}.item[_ngcontent-%COMP%]   .item__poster[_ngcontent-%COMP%]{width:223px;height:123px;margin-bottom:15px}.item[_ngcontent-%COMP%]   .item__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;max-width:202px;margin-bottom:15px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:10px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .view__icon[_ngcontent-%COMP%]{width:20px;height:13px;background:url("./media/viewed-PZZLMQXR.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like__icon[_ngcontent-%COMP%]{width:15px;height:13px;background:url("./media/liked-ZR66DMNW.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .dislike__icon[_ngcontent-%COMP%]{width:15px;height:13px;background:url("./media/dislike-RUEEMTV2.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .comment__icon[_ngcontent-%COMP%]{width:13px;height:13px;background:url("./media/comments-CCYOVURT.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__title[_ngcontent-%COMP%]{color:#4f4f4f;font-weight:700;font-size:20px;width:100%;max-width:223px;text-align:right}.item[_ngcontent-%COMP%]   .item__button-block[_ngcontent-%COMP%]{position:absolute;bottom:15px}.item[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]{width:120px;height:32px;cursor:pointer;padding:0;margin:0 10px 0 0;border:none;border-radius:5px;box-shadow:1px 0 3px #2f80ed;flex-shrink:0;background-color:#2f80ed;color:#fff;font-size:12px}.item[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]:hover{background-color:#60a5fa}.item[_ngcontent-%COMP%]   .item__line[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px}.item[_ngcontent-%COMP%]   .more-6-month[_ngcontent-%COMP%]{background-color:#eb5757}.item[_ngcontent-%COMP%]   .to-1-from-6-month[_ngcontent-%COMP%]{background-color:#f2c94c}.item[_ngcontent-%COMP%]   .to-7-day-from-1-month[_ngcontent-%COMP%]{background-color:#27ae60}.item[_ngcontent-%COMP%]   .less-7-days[_ngcontent-%COMP%]{background-color:#2f80ed}'],changeDetection:0});let n=e;return n})();var oe=(()=>{let e=class e{transform(i,t){return t.length===0?i:i.filter(o=>o.snippet.title.toLowerCase().includes(t.toLowerCase()))}};e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=b({name:"filterVideos",type:e,pure:!0,standalone:!0});let n=e;return n})();var re=(()=>{let e=class e{transform(i,t){return!t.activeSortDate&&!t.activeSortView?i:t.activeSortDate?t.ascDate?i.sort((o,f)=>new Date(o.snippet.publishedAt).getTime()-new Date(f.snippet.publishedAt).getTime()):i.sort((o,f)=>new Date(f.snippet.publishedAt).getTime()-new Date(o.snippet.publishedAt).getTime()):t.ascView?i.sort((o,f)=>Number(f.statistics.viewCount)-Number(o.statistics.viewCount)):i.sort((o,f)=>Number(o.statistics.viewCount)-Number(f.statistics.viewCount))}};e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=b({name:"sortVideos",type:e,pure:!0,standalone:!0});let n=e;return n})();var se=(()=>{let e=class e{constructor(){this.value="",this.start=!0,this.valuePush=new d(""),this.startPush=new d(!0)}changeOption(i){this.value=i.value,this.start=i.start,this.valuePush.next(i.value),this.startPush.next(i.start)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ae=(()=>{let e=class e{constructor(){this.word=new d("")}changeWord(i){this.word.next(i)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var pe=(()=>{let e=class e{constructor(){this.sort={activeSortDate:!1,ascDate:!1,descDate:!0,activeSortView:!1,ascView:!1,descView:!0},this.sortPush=new d({activeSortDate:!1,ascDate:!1,descDate:!0,activeSortView:!1,ascView:!1,descView:!0})}changeSortOption(i){this.sort=I({},i),this.sortPush.next(I({},i))}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ue=(n,e)=>e.id,V=()=>[];function fe(n,e){n&1&&(p(0,"p",0),m(1,"Loading..."),a())}function he(n,e){n&1&&(p(0,"p",0),m(1,"Enter a search term of at least 3 characters"),a())}function ve(n,e){if(n&1&&v(0,"app-search-item",2),n&2){let u=e.$implicit;_("video",u)}}function ge(n,e){if(n&1&&(p(0,"div",1),U(1,ve,1,1,"app-search-item",2,ue),r(3,"async"),r(4,"async"),r(5,"filterVideos"),r(6,"async"),r(7,"sortVideos"),a()),n&2){let u=T();c(),Z(P(7,9,P(5,4,s(3,0,u.videoService.videos)||O(12,V),s(4,2,u.findWordService.word)||""),s(6,7,u.sortVideoService.sortPush)||u.sortVideoService.sort))}}function _e(n,e){if(n&1&&(p(0,"p",0),m(1),r(2,"async"),r(3,"async"),a()),n&2){let u=T();c(),X(" Unfortunately, there are no results for your request \u201C",s(2,2,u.findService.valuePush),"\u201D",u.findWordService.word?" and by word or sentence \u201C"+s(3,4,u.findWordService.word)+"\u201D":""," ")}}var $e=(()=>{let e=class e{constructor(i,t,o,f){this.videoService=i,this.findService=t,this.findWordService=o,this.sortVideoService=f}};e.\u0275fac=function(t){return new(t||e)(l(D),l(se),l(ae),l(pe))},e.\u0275cmp=C({type:e,selectors:[["app-search-results"]],standalone:!0,features:[x],decls:16,vars:29,consts:[[1,"main__start"],[1,"main__results"],[3,"video"]],template:function(t,o){t&1&&(j(0,fe,2,0,"p",0),r(1,"async"),r(2,"async"),r(3,"async"),r(4,"async"),r(5,"async"),r(6,"async"),r(7,"filterVideos"),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),r(12,"filterVideos"),j(13,he,2,0,"p",0)(14,ge,8,13,"div",1)(15,_e,4,6,"p",0)),t&2&&L(s(1,1,o.videoService.loading)?0:(s(2,3,o.findService.valuePush)||"").length<3?13:s(3,5,o.findService.startPush)===!1&&s(4,7,o.findService.valuePush)&&P(7,13,s(5,9,o.videoService.videos)||O(27,V),s(6,11,o.findWordService.word)||"").length?14:s(8,16,o.findService.startPush)===!1&&s(9,18,o.findService.valuePush)&&P(12,24,s(10,20,o.videoService.videos)||O(28,V),s(11,22,o.findWordService.word)||"").length===0?15:-1)},dependencies:[ne,oe,re,Y],styles:[".main__results[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:1250px;padding:15px;box-sizing:border-box;display:grid;gap:28px;grid-template-columns:repeat(4,1fr);justify-items:center}@media (max-width: 1170px){.main__results[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 880px){.main__results[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 590px){.main__results[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}.main__start[_ngcontent-%COMP%]{padding-top:50px;text-align:center;font-size:30px}"],changeDetection:0});let n=e;return n})();export{ee as a,pe as b,ae as c,se as d,D as e,K as f,$e as g};
