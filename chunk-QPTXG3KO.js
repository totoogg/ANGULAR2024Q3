import{n as R,y as H}from"./chunk-LR6SJLPB.js";import{$a as S,Ac as U,Bb as f,Bc as Y,Ca as r,Da as h,Ra as p,Sb as A,Ta as s,W as M,Wb as F,Ya as d,Za as E,ab as T,bb as i,ca as O,cb as o,da as P,db as _,eb as w,ec as V,fc as u,gb as C,hb as v,hc as N,ic as z,ka as k,kb as D,la as y,lc as j,mc as B,nc as L,oc as $,pc as q,qb as a,qc as I,rc as G}from"./chunk-NZHHZJHM.js";var J=e=>{let n=new Date().getTime(),m=new Date(e.value).getTime();return n-m>0?null:{dateValidator:!0}};var b=e=>(m=>{try{return!!new URL(m)}catch{return!1}})(e.value)?null:{urlValidator:!0};var g=(e,n)=>({valid:e,invalid:n});function W(e,n){e&1&&(i(0,"div",6),a(1,"Please enter a title"),o())}function X(e,n){e&1&&(i(0,"div",7),a(1,"The title is too short"),o())}function Z(e,n){e&1&&(i(0,"div",7),a(1,"The title is too long"),o())}function tt(e,n){e&1&&(i(0,"div",7),a(1,"The description is too long"),o())}function et(e,n){e&1&&(i(0,"div",6),a(1,"Please enter a link to the image"),o())}function nt(e,n){e&1&&(i(0,"div",7),a(1,"The link is invalid"),o())}function ot(e,n){e&1&&(i(0,"div",6),a(1,"Please enter a link to the video"),o())}function it(e,n){e&1&&(i(0,"div",7),a(1,"The link is invalid"),o())}function rt(e,n){e&1&&(i(0,"div",6),a(1,"Please enter a creation date"),o())}function lt(e,n){e&1&&(i(0,"div",7),a(1,"The date is invalid"),o())}function at(e,n){if(e&1){let m=w();i(0,"app-custom-button",28),C("clickCustomEvent",function(){k(m);let c=v().$index,t=v();return y(t.deleteTag(c))}),_(1,"span")(2,"span"),o()}}function mt(e,n){e&1&&(i(0,"div",6),a(1,"Please enter a tag"),o())}function dt(e,n){if(e&1&&(i(0,"div",24)(1,"div",25),_(2,"input",26)(3,"div",5),o(),p(4,at,3,0,"app-custom-button",27),o(),p(5,mt,2,0,"div",6)),e&2){let m=n.$index,l=v();r(2),D("formControlName",m),s("value",l.form.controls.tags.value[m]),r(),s("ngClass",f(5,g,l.form.controls.tags.controls[m].valid&&l.form.controls.tags.controls[m].touched,l.form.controls.tags.controls[m].invalid&&l.form.controls.tags.controls[m].touched)),r(),d(l.form.controls.tags.length>1?4:-1),r(),d((l.form.controls.tags.controls[m].value==null?null:l.form.controls.tags.controls[m].value.length)===0?5:-1)}}var K=(()=>{let n=class n{constructor(l,c){this.formBuilder=l,this.store=c,this.form=this.formBuilder.group({title:["",{validators:[u.required,u.minLength(3),u.maxLength(20)],updateOn:"blur"}],description:["",{validators:[u.maxLength(255)],updateOn:"blur"}],img:["",{validators:[u.required,b],updateOn:"blur"}],link:["",{validators:[u.required,b],updateOn:"blur"}],createDate:[this.startValueDate(),{validators:[u.required,J],updateOn:"blur"}],tags:this.formBuilder.array([this.formBuilder.control("",{validators:[u.required],updateOn:"blur"})])})}startValueDate(){let l=new Date;return`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`}getFormsControls(){return this.form.controls.tags}addTags(){this.form.controls.tags.push(this.formBuilder.control("",{validators:[u.required],updateOn:"blur"}))}deleteTag(l){this.form.controls.tags.removeAt(l)}checkLengthTags(){return this.form.controls.tags.length>4}reset(){this.form.reset({title:"",description:"",img:"",link:"",createDate:this.startValueDate(),tags:[""]})}handleSubmit(){if(this.form.valid){let l={videoLink:this.form.value.link||"",id:String(Date.now()),snippet:{title:this.form.value.title||"",publishedAt:this.form.value.createDate||"",description:this.form.value.description||"",thumbnails:{high:{url:this.form.value.img||""}}},statistics:{viewCount:"0"}};this.store.dispatch(H({customCards:l})),this.reset()}}};n.\u0275fac=function(c){return new(c||n)(h(q),h(R))},n.\u0275cmp=O({type:n,selectors:[["app-admin"]],decls:53,vars:34,consts:[[1,"form",3,"submit","formGroup"],[1,"form__title"],[1,"form__line"],["for","title",1,"line__label"],["type","text","id","title","formControlName","title",1,"line__input"],[1,"line",3,"ngClass"],[1,"start"],[1,"alert"],["for","description",1,"line__label"],["id","description","formControlName","description",1,"line__input","textarea"],["for","img",1,"line__label"],["type","text","id","img","formControlName","img",1,"line__input"],["for","link",1,"line__label"],["type","text","id","link","formControlName","link",1,"line__input"],["for","createDate",1,"line__label"],["type","date","id","createDate","formControlName","createDate",1,"line__input"],[1,"form__line_last"],[1,"line__tags"],[1,"line__label"],[1,"button__add","button",3,"clickCustomEvent","disabled"],["formArrayName","tags"],[1,"form__buttons"],[1,"button__reset","button",3,"clickCustomEvent"],[1,"button__submit","button",3,"type","disabled"],[1,"block_tags"],[1,"content_input"],["type","text","id","tags",1,"line__input",3,"value","formControlName"],[1,"delete_tag"],[1,"delete_tag",3,"clickCustomEvent"]],template:function(c,t){c&1&&(i(0,"main")(1,"form",0),C("submit",function(){return t.handleSubmit()}),i(2,"h2",1),a(3,"Create new card"),o(),i(4,"div",2)(5,"label",3),a(6,"Title"),o(),_(7,"input",4)(8,"div",5),p(9,W,2,0,"div",6)(10,X,2,0,"div",7)(11,Z,2,0,"div",7),o(),i(12,"div",2)(13,"label",8),a(14,"Description"),o(),_(15,"textarea",9)(16,"div",5),p(17,tt,2,0,"div",7),o(),i(18,"div",2)(19,"label",10),a(20,"Img"),o(),_(21,"input",11)(22,"div",5),p(23,et,2,0,"div",6)(24,nt,2,0,"div",7),o(),i(25,"div",2)(26,"label",12),a(27,"Link video"),o(),_(28,"input",13)(29,"div",5),p(30,ot,2,0,"div",6)(31,it,2,0,"div",7),o(),i(32,"div",2)(33,"label",14),a(34,"Creation date"),o(),_(35,"input",15)(36,"div",5),p(37,rt,2,0,"div",6)(38,lt,2,0,"div",7),o(),i(39,"div",16)(40,"div",17)(41,"div",18),a(42,"Tags"),o(),i(43,"app-custom-button",19),C("clickCustomEvent",function(){return t.addTags()}),a(44,"Add tag"),o()(),i(45,"div",20),S(46,dt,6,8,null,null,E),o()(),i(48,"div",21)(49,"app-custom-button",22),C("clickCustomEvent",function(){return t.reset()}),a(50,"Reset"),o(),i(51,"app-custom-button",23),a(52,"Create card"),o()()()()),c&2&&(r(),s("formGroup",t.form),r(7),s("ngClass",f(19,g,t.form.controls.title.valid&&t.form.controls.title.touched,t.form.controls.title.invalid&&t.form.controls.title.touched)),r(),d((t.form.controls.title.value==null?null:t.form.controls.title.value.length)===0?9:-1),r(),d(t.form.controls.title.errors!=null&&t.form.controls.title.errors.minlength&&t.form.controls.title.touched?10:-1),r(),d(t.form.controls.title.errors!=null&&t.form.controls.title.errors.maxlength&&t.form.controls.title.touched?11:-1),r(5),s("ngClass",f(22,g,t.form.controls.description.valid&&t.form.controls.description.touched,t.form.controls.description.invalid&&t.form.controls.description.touched)),r(),d(t.form.controls.description.errors!=null&&t.form.controls.description.errors.maxlength&&t.form.controls.description.touched?17:-1),r(5),s("ngClass",f(25,g,t.form.controls.img.valid&&t.form.controls.img.touched,t.form.controls.img.invalid&&t.form.controls.img.touched)),r(),d((t.form.controls.img.value==null?null:t.form.controls.img.value.length)===0?23:-1),r(),d(t.form.controls.img.errors!=null&&t.form.controls.img.errors.urlValidator&&t.form.controls.img.value&&t.form.controls.img.touched?24:-1),r(5),s("ngClass",f(28,g,t.form.controls.link.valid&&t.form.controls.link.touched,t.form.controls.link.invalid&&t.form.controls.link.touched)),r(),d((t.form.controls.link.value==null?null:t.form.controls.link.value.length)===0?30:-1),r(),d(t.form.controls.link.errors!=null&&t.form.controls.link.errors.urlValidator&&t.form.controls.link.value&&t.form.controls.link.touched?31:-1),r(5),s("ngClass",f(31,g,t.form.controls.createDate.valid&&t.form.controls.createDate.touched,t.form.controls.createDate.invalid&&t.form.controls.createDate.touched)),r(),d((t.form.controls.createDate.value==null?null:t.form.controls.createDate.value.length)===0?37:-1),r(),d(t.form.controls.createDate.errors!=null&&t.form.controls.createDate.errors.dateValidator&&t.form.controls.createDate.value&&t.form.controls.createDate.touched?38:-1),r(5),s("disabled",t.checkLengthTags()),r(3),T(t.getFormsControls().controls),r(5),s("type","submit")("disabled",t.form.invalid))},dependencies:[j,V,N,z,B,$,L,A,Y],styles:["main[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:center;width:100%;max-width:1440px;padding:45px 15px 15px;box-sizing:border-box}.form[_ngcontent-%COMP%]{width:100%;max-width:350px;background-color:#f2f2f2;border-radius:5px;padding:28px 20px 24px;box-sizing:border-box;position:relative}.form[_ngcontent-%COMP%]   .form__title[_ngcontent-%COMP%]{margin:0 0 11px;padding:0;font-size:18px;font-weight:700;line-height:100%}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin-bottom:5px}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__label[_ngcontent-%COMP%]{color:#828282;margin-left:6px;font-size:10px}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]{height:25px;background-color:#e0e0e0;outline:none;border:none;padding-left:5px;font-size:10px}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:hover{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:focus{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{height:75px;resize:none}.form[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:5px;margin-bottom:5px;width:100%;border-radius:0 0 5px 5px}.form[_ngcontent-%COMP%]   .line.invalid[_ngcontent-%COMP%]{background-color:red}.form[_ngcontent-%COMP%]   .line.valid[_ngcontent-%COMP%]{background-color:green}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin-bottom:52px}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__label[_ngcontent-%COMP%]{color:#828282;margin-left:6px;font-size:10px}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]{height:25px;background-color:#e0e0e0;outline:none;border:none;padding-left:5px;font-size:10px;width:100%;box-sizing:border-box}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:hover{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:focus{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 40px);bottom:24px;box-sizing:border-box;display:flex;justify-content:space-between}.button[_ngcontent-%COMP%]{cursor:pointer;width:124px;height:30px;border-radius:5px;font-size:12px;color:#fff;background-color:#2f80ed;border:none;box-shadow:1px 0 3px #2f80ed}.button[_ngcontent-%COMP%]:hover{background-color:#85b9ff}.button[_ngcontent-%COMP%]:disabled{background-color:#85b9ff;box-shadow:1px 0 3px #85b9ff;cursor:default}.line__tags[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.button__add[_ngcontent-%COMP%]{width:60px;height:25px;margin-bottom:5px}.block_tags[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block_tags[_ngcontent-%COMP%]   .content_input[_ngcontent-%COMP%]{width:100%}.block_tags[_ngcontent-%COMP%]   .delete_tag[_ngcontent-%COMP%]{position:relative;margin-left:10px;width:25px;height:25px;border-radius:5px;opacity:.2}.block_tags[_ngcontent-%COMP%]   .delete_tag[_ngcontent-%COMP%]:hover{opacity:1}.block_tags[_ngcontent-%COMP%]   .delete_tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:12px;display:block;width:25px;height:3px;background:red}.block_tags[_ngcontent-%COMP%]   .delete_tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform:rotate(45deg)}.block_tags[_ngcontent-%COMP%]   .delete_tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{transform:rotate(-45deg)}.start[_ngcontent-%COMP%]{font-size:10px;margin-bottom:5px}.alert[_ngcontent-%COMP%]{font-size:10px;color:red;line-height:100%;margin-top:5px}"],changeDetection:0});let e=n;return e})();var st=[{path:"",title:"AdminPage",component:K}],wt=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=P({type:n}),n.\u0275inj=M({imports:[U.forChild(st),G,F,I]});let e=n;return e})();export{wt as AdminModule};
