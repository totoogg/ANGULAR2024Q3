import{V as a,Y as i,f as n,zc as g}from"./chunk-NZHHZJHM.js";var m=(()=>{let s=class s{constructor(t,e){this.router=t,this.logger=e,this.user="Your Name",this.stor="",this.isLogin=new n(!1),this.isLogin$=this.isLogin.asObservable(),this.stor=localStorage.getItem("token-ANGULAR2024Q3"),this.repeatedLoginUser()}userLogout(){this.stor=null,this.user="Your Name",localStorage.removeItem("token-ANGULAR2024Q3"),this.router.navigate(["login"]),this.isLogin.next(!1),this.logger.logMessage("User logout")}repeatedLoginUser(){if(this.stor){let t=this.decoder(JSON.parse(this.stor));this.isLogin.next(!0),this.userName(t.login),this.logger.logMessage("User login")}}userLogin(t,e){this.userName(t);let o=this.encode(`${t}|token|${e}`);this.stor=JSON.stringify(o),localStorage.setItem("token-ANGULAR2024Q3",JSON.stringify(o)),this.isLogin.next(!0),this.router.navigate(["main"]),this.logger.logMessage("User login")}userName(t){this.user=t}encode(t){return t.split("").map(e=>e.codePointAt(0)).join("|")}decoder(t){let o=t.split("|").map(l=>String.fromCodePoint(Number(l))).join("").split("|token|");return{login:o[0],password:o[1]}}};s.\u0275fac=function(e){return new(e||s)(i(g),i("Logger"))},s.\u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();export{m as a};
