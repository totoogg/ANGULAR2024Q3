import{C as A,E as B,F as a,G as R,J as k,K as _,M as z,N as L,O as W,P as s,Q as r,R as d,T as N,U as D,V as $,W as U,X as c,Z as C,_ as Z,a as I,da as x,f as w,fa as h,g as T,ga as q,ha as b,i as M,j as E,k as P,l as j,m as y,p as u,qa as O,ra as H,s as V,t as f,u as g,w as F,x as v,za as Q}from"./chunk-DQOMCA2Z.js";var X=(()=>{let t=class t{constructor(n){this.el=n,this.publishedAt=""}ngOnInit(){let n=this.getTimeDifferent();n<7?this.el.nativeElement.classList.add("less-7-days"):n>=7&&n<31?this.el.nativeElement.classList.add("to-7-day-from-1-month"):n>=31&&n<181?this.el.nativeElement.classList.add("to-1-from-6-month"):this.el.nativeElement.classList.add("more-6-month")}getTimeDifferent(){return(new Date().getTime()-new Date(this.publishedAt).getTime())/864e5}};t.\u0275fac=function(i){return new(i||t)(R(A))},t.\u0275dir=F({type:t,selectors:[["","appColorLine",""]],inputs:{publishedAt:"publishedAt"},standalone:!0});let e=t;return e})();var Y=(()=>{let t=class t{transform(n,i=50){return n.length>i?`${n.substring(0,i)}...`:n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=v({name:"sliceTitle",type:t,pure:!0,standalone:!0});let e=t;return e})();var ot=["*"],G=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-custom-button"]],standalone:!0,features:[x],ngContentSelectors:ot,decls:1,vars:0,template:function(i,o){i&1&&($(),U(0))}});let e=t;return e})();var S=(()=>{let t=class t{constructor(n){this.http=n,this.loading=!1,this.videos=[]}getAll(n){return this.http.get("search",{params:new O({fromObject:{type:"video",part:"snippet",maxResults:15,q:n}})}).pipe(E(500),P(2),T(i=>i.items.map(o=>o.id.videoId).join(",")),j(i=>this.getAllById(i)),M(i=>w(`Bad Promise: ${i}`)))}getAllById(n){return this.http.get("videos",{params:new O({fromObject:{part:"snippet,statistics",id:n}})}).pipe(P(2),y(i=>{this.videos=i.items}),M(i=>w(`Bad Promise: ${i}`)))}getById(n){return this.http.get("videos",{params:new O({fromObject:{part:"snippet,statistics",id:n}})}).pipe(P(2),y(i=>{[this.video]=i.items}),M(i=>w(`Bad Promise: ${i}`)))}loadingChange(n){this.loading=n}cleanVideo(){this.video=void 0}};t.\u0275fac=function(i){return new(i||t)(V(H))},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var J=(()=>{let t=class t{constructor(){this.router=f(Q),this.videoService=f(S)}handleClickButton(n){this.videoService.cleanVideo(),this.router.navigate(["main",n])}randomDislike(){return Math.round(Number(this.video.statistics.likeCount)/100)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-search-item"]],inputs:{video:"video"},standalone:!0,features:[x],decls:23,vars:11,consts:[[1,"item"],[1,"item__poster"],[3,"src","alt"],[1,"item__statistics"],[1,"statistics__view","stat"],[1,"view__icon"],[1,"statistics__like","stat"],[1,"like__icon"],[1,"statistics__dislike","stat"],[1,"dislike__icon"],[1,"statistics__comments","stat"],[1,"comment__icon"],[1,"item__title",3,"title"],[1,"item__button-block"],[1,"item__button",3,"click"],["appColorLine","",1,"item__line",3,"publishedAt"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"div",1),d(2,"img",2),r(),s(3,"div",3)(4,"div",4),d(5,"div",5),c(6),r(),s(7,"div",6),d(8,"div",7),c(9),r(),s(10,"div",8),d(11,"div",9),c(12),r(),s(13,"div",10),d(14,"div",11),c(15),r()(),s(16,"p",12),c(17),h(18,"sliceTitle"),r(),s(19,"app-custom-button",13)(20,"button",14),N("click",function(){return o.handleClickButton(o.video.id)}),c(21," more... "),r()(),d(22,"div",15),r()),i&2&&(a(2),_("src",o.video.snippet.thumbnails.high.url,B)("alt",o.video.snippet.title),a(4),C(" ",o.video.statistics.viewCount," "),a(3),C(" ",o.video.statistics.likeCount," "),a(3),C(" ",o.randomDislike()," "),a(3),C(" ",o.video.statistics.commentCount," "),a(),_("title",o.video.snippet.title),a(),C(" ",q(18,9,o.video.snippet.title)," "),a(5),_("publishedAt",o.video.snippet.publishedAt))},dependencies:[Y,X,G],styles:['.item[_ngcontent-%COMP%]{width:263px;height:327px;border-radius:5px;box-sizing:border-box;background-color:#e5e5e5;display:flex;flex-direction:column;align-items:center;position:relative;padding-top:20px;overflow:hidden}.item[_ngcontent-%COMP%]   .item__poster[_ngcontent-%COMP%]{width:223px;height:123px;margin-bottom:15px}.item[_ngcontent-%COMP%]   .item__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;max-width:202px;margin-bottom:15px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:10px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .view__icon[_ngcontent-%COMP%]{width:20px;height:13px;background:url("./media/viewed-PZZLMQXR.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like__icon[_ngcontent-%COMP%]{width:15px;height:13px;background:url("./media/liked-ZR66DMNW.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .dislike__icon[_ngcontent-%COMP%]{width:15px;height:13px;background:url("./media/dislike-RUEEMTV2.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__statistics[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .comment__icon[_ngcontent-%COMP%]{width:13px;height:13px;background:url("./media/comments-CCYOVURT.svg") center no-repeat;background-size:contain;flex-shrink:0;margin-right:3px}.item[_ngcontent-%COMP%]   .item__title[_ngcontent-%COMP%]{color:#4f4f4f;font-weight:700;font-size:20px;width:100%;max-width:223px;text-align:right}.item[_ngcontent-%COMP%]   .item__button-block[_ngcontent-%COMP%]{position:absolute;bottom:15px}.item[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]{width:120px;height:32px;cursor:pointer;padding:0;margin:0 10px 0 0;border:none;border-radius:5px;box-shadow:1px 0 3px #2f80ed;flex-shrink:0;background-color:#2f80ed;color:#fff;font-size:12px}.item[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]:hover{background-color:#60a5fa}.item[_ngcontent-%COMP%]   .item__line[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px}.item[_ngcontent-%COMP%]   .more-6-month[_ngcontent-%COMP%]{background-color:#eb5757}.item[_ngcontent-%COMP%]   .to-1-from-6-month[_ngcontent-%COMP%]{background-color:#f2c94c}.item[_ngcontent-%COMP%]   .to-7-day-from-1-month[_ngcontent-%COMP%]{background-color:#27ae60}.item[_ngcontent-%COMP%]   .less-7-days[_ngcontent-%COMP%]{background-color:#2f80ed}']});let e=t;return e})();var K=(()=>{let t=class t{transform(n,i){return i.length===0?n:n.filter(o=>o.snippet.title.toLowerCase().includes(i.toLowerCase()))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=v({name:"filterVideos",type:t,pure:!0,standalone:!0});let e=t;return e})();var tt=(()=>{let t=class t{transform(n,i){return!i.activeSortDate&&!i.activeSortView?n:i.activeSortDate?i.ascDate?n.sort((o,l)=>new Date(o.snippet.publishedAt).getTime()-new Date(l.snippet.publishedAt).getTime()):n.sort((o,l)=>new Date(l.snippet.publishedAt).getTime()-new Date(o.snippet.publishedAt).getTime()):i.ascView?n.sort((o,l)=>Number(l.statistics.viewCount)-Number(o.statistics.viewCount)):n.sort((o,l)=>Number(o.statistics.viewCount)-Number(l.statistics.viewCount))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=v({name:"sortVideos",type:t,pure:!0,standalone:!0});let e=t;return e})();var et=(()=>{let t=class t{constructor(){this.value="",this.start=!0}changeOption(n){this.value=n.value,this.start=n.start}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var it=(()=>{let t=class t{constructor(){this.word=""}changeWord(n){this.word=n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var nt=(()=>{let t=class t{constructor(){this.sort={activeSortDate:!1,ascDate:!1,descDate:!0,activeSortView:!1,ascView:!1,descView:!0}}changeSortOption(n){this.sort=I({},n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rt=(e,t)=>t.id;function st(e,t){e&1&&(s(0,"p",0),c(1,"Loading..."),r())}function at(e,t){e&1&&(s(0,"p",0),c(1,"Enter a search term of at least 3 characters"),r())}function ct(e,t){if(e&1&&d(0,"app-search-item",2),e&2){let m=t.$implicit;_("video",m)}}function pt(e,t){if(e&1&&(s(0,"div",1),L(1,ct,1,1,"app-search-item",2,rt),h(3,"filterVideos"),h(4,"sortVideos"),r()),e&2){let m=D();a(),W(b(4,3,b(3,0,m.videoService.videos,m.findWordService.word),m.sortVideoService.sort))}}function mt(e,t){if(e&1&&(s(0,"p",0),c(1),r()),e&2){let m=D();a(),Z(" Unfortunately, there are no results for your request \u201C",m.findService.value,"\u201D",m.findWordService.word?" and by word or sentence \u201C"+m.findWordService.word+"\u201D":"",`
`)}}var Nt=(()=>{let t=class t{constructor(){this.videoService=f(S),this.findService=f(et),this.findWordService=f(it),this.sortVideoService=f(nt)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-search-results"]],standalone:!0,features:[x],decls:6,vars:7,consts:[[1,"main__start"],[1,"main__results"],[3,"video"]],template:function(i,o){i&1&&(k(0,st,2,0,"p",0),h(1,"filterVideos"),h(2,"filterVideos"),k(3,at,2,0,"p",0)(4,pt,5,6,"div",1)(5,mt,2,2,"p",0)),i&2&&z(o.videoService.loading?0:o.findService.value.length<3?3:!o.findService.start&&o.findService.value&&b(1,1,o.videoService.videos,o.findWordService.word).length?4:!o.findService.start&&o.findService.value&&b(2,4,o.videoService.videos,o.findWordService.word).length===0?5:-1)},dependencies:[J,K,tt],styles:[".main__results[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:1250px;padding:15px;box-sizing:border-box;display:grid;gap:28px;grid-template-columns:repeat(4,1fr);justify-items:center}@media (max-width: 1170px){.main__results[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 880px){.main__results[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 590px){.main__results[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}.main__start[_ngcontent-%COMP%]{padding-top:50px;text-align:center;font-size:30px}"]});let e=t;return e})();export{S as a,et as b,it as c,nt as d,Y as e,X as f,Nt as g};
