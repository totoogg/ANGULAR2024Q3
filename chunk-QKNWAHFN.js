import{a as ne,b as p,c as se,d as oe,e as re,g,i as ae,j as ce,k as le,l as de,m as ue,o as he,p as me}from"./chunk-C3I366GC.js";import{C as T,F as c,G as F,J as b,K as m,M as f,N as X,O as Q,P as J,Q as a,R as r,S as _,U as A,V as R,Y as ee,Z as l,a as y,b as W,c as Z,da as S,ea as L,ga as E,ma as te,p as Y,r as M,ra as ie,s as q,t as O,u as N}from"./chunk-FB3KRMNT.js";var fe;try{fe=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fe=!1}var w;function xe(){if(w==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w=!0}))}finally{w=w||!1}return w}function P(o){return xe()?o:!!o.capture}function pe(o){return o.composedPath?o.composedPath()[0]:o.target}function j(o){return o instanceof T?o.nativeElement:o}function _e(o){return o.buttons===0||o.detail===0}function ge(o){let e=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var be=new M("MAT_DATE_LOCALE",{providedIn:"root",factory:Ne});function Ne(){return O(te)}var D=class{constructor(){this._localeChanges=new Z,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let t=this.isValid(e),s=this.isValid(n);return t&&s?!this.compareDate(e,n):t==s}return e==n}clampDate(e,n,t){return n&&this.compareDate(e,n)<0?n:t&&this.compareDate(e,t)>0?t:e}},Fe=new M("mat-date-formats"),Re=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function B(o,e){let n=Array(o);for(let t=0;t<o;t++)n[t]=e(t);return n}var Se=(()=>{let e=class e extends D{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=O(be,{optional:!0}),t!==void 0&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){let s=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return B(12,i=>this._format(s,new Date(2017,i,1)))}getDateNames(){let t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return B(31,s=>this._format(t,new Date(2017,0,s+1)))}getDayOfWeekNames(t){let s=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return B(7,i=>this._format(s,new Date(2017,0,i+1)))}getYearName(t){let s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(s,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,s,i){let d=this._createDateWithOverflow(t,s,i);return d.getMonth()!=s,d}today(){return new Date}parse(t,s){return typeof t=="number"?new Date(t):t?new Date(Date.parse(t)):null}format(t,s){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");let i=new Intl.DateTimeFormat(this.locale,W(y({},s),{timeZone:"utc"}));return this._format(i,t)}addCalendarYears(t,s){return this.addCalendarMonths(t,s*12)}addCalendarMonths(t,s){let i=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+s,this.getDate(t));return this.getMonth(i)!=((this.getMonth(t)+s)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(t,s){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+s)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if(typeof t=="string"){if(!t)return null;if(Re.test(t)){let s=new Date(t);if(this.isValid(s))return s}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,s,i){let d=new Date;return d.setFullYear(t,s,i),d.setHours(0,0,0,0),d}_2digit(t){return("00"+t).slice(-2)}_format(t,s){let i=new Date;return i.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),i.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),t.format(i)}};e.\u0275fac=function(s){return new(s||e)(q(be,8))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let o=e;return o})(),Le={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function Ce(o=Le){return[{provide:D,useClass:Se},{provide:Fe,useValue:o}]}var h=function(o){return o[o.FADING_IN=0]="FADING_IN",o[o.VISIBLE=1]="VISIBLE",o[o.FADING_OUT=2]="FADING_OUT",o[o.HIDDEN=3]="HIDDEN",o}(h||{}),V=class{constructor(e,n,t,s=!1){this._renderer=e,this.element=n,this.config=t,this._animationForciblyDisabledThroughCss=s,this.state=h.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},ve=P({passive:!0,capture:!0}),U=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=pe(e);n&&this._events.get(e.type)?.forEach((t,s)=>{(s===n||s.contains(n))&&t.forEach(i=>i.handleEvent(e))})}}addHandler(e,n,t,s){let i=this._events.get(n);if(i){let d=i.get(t);d?d.add(s):i.set(t,new Set([s]))}else this._events.set(n,new Map([[t,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,ve)})}removeHandler(e,n,t){let s=this._events.get(e);if(!s)return;let i=s.get(n);i&&(i.delete(t),i.size===0&&s.delete(n),s.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,ve)))}},ye={enterDuration:225,exitDuration:150},Pe=800,Ee=P({passive:!0,capture:!0}),Ie=["mousedown","touchstart"],Ae=["mouseup","mouseleave","touchend","touchcancel"],C=class C{constructor(e,n,t,s){this._target=e,this._ngZone=n,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=j(t))}fadeInRipple(e,n,t={}){let s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=y(y({},ye),t.animation);t.centered&&(e=s.left+s.width/2,n=s.top+s.height/2);let d=t.radius||je(e,n,s),Te=e-s.left,De=n-s.top,k=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${Te-d}px`,u.style.top=`${De-d}px`,u.style.height=`${d*2}px`,u.style.width=`${d*2}px`,t.color!=null&&(u.style.backgroundColor=t.color),u.style.transitionDuration=`${k}ms`,this._containerElement.appendChild(u);let z=window.getComputedStyle(u),ke=z.transitionProperty,$=z.transitionDuration,x=ke==="none"||$==="0s"||$==="0s, 0s"||s.width===0&&s.height===0,v=new V(this,u,t,x);u.style.transform="scale3d(1, 1, 1)",v.state=h.FADING_IN,t.persistent||(this._mostRecentTransientRipple=v);let H=null;return!x&&(k||i.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let K=()=>this._finishRippleTransition(v),G=()=>this._destroyRipple(v);u.addEventListener("transitionend",K),u.addEventListener("transitioncancel",G),H={onTransitionEnd:K,onTransitionCancel:G}}),this._activeRipples.set(v,H),(x||!k)&&this._finishRippleTransition(v),v}fadeOutRipple(e){if(e.state===h.FADING_OUT||e.state===h.HIDDEN)return;let n=e.element,t=y(y({},ye),e.config.animation);n.style.transitionDuration=`${t.exitDuration}ms`,n.style.opacity="0",e.state=h.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=j(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Ie.forEach(t=>{C._eventManager.addHandler(this._ngZone,t,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ae.forEach(n=>{this._triggerElement.addEventListener(n,this,Ee)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===h.FADING_IN?this._startFadeOutTransition(e):e.state===h.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=h.VISIBLE,!t&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=h.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=_e(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Pe;!this._target.rippleDisabled&&!n&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ge(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let t=0;t<n.length;t++)this.fadeInRipple(n[t].clientX,n[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===h.VISIBLE||e.config.terminateOnPointerUp&&e.state===h.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Ie.forEach(n=>C._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(Ae.forEach(n=>e.removeEventListener(n,this,Ee)),this._pointerUpEventsRegistered=!1))}};C._eventManager=new U;var we=C;function je(o,e,n){let t=Math.max(Math.abs(o-n.left),Math.abs(o-n.right)),s=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(t*t+s*s)}var I=(o,e)=>({valid:o,invalid:e});function Be(o,e){o&1&&(a(0,"div",6),l(1,"Please enter a title"),r())}function Ve(o,e){o&1&&(a(0,"div",7),l(1,"The title is too short"),r())}function Ue(o,e){o&1&&(a(0,"div",7),l(1,"The title is too long"),r())}function ze(o,e){o&1&&(a(0,"div",7),l(1,"The description is too long"),r())}function $e(o,e){o&1&&(a(0,"div",6),l(1,"Please enter a link to the image"),r())}function He(o,e){o&1&&(a(0,"div",6),l(1,"Please enter a link to the video"),r())}function Ke(o,e){o&1&&(a(0,"div",6),l(1,"Please enter a creation date"),r())}function Ge(o,e){o&1&&(a(0,"div",7),l(1,"The date is invalid"),r())}function We(o,e){o&1&&(a(0,"div",6),l(1,"Please enter a tag"),r())}function Ze(o,e){if(o&1&&(a(0,"div"),_(1,"input",24),r(),_(2,"div",5),b(3,We,2,0,"div",6)),o&2){let n=e.$index,t=R();c(),ee("formControlName",n),c(),m("ngClass",E(3,I,t.form.controls.tags.controls[n].valid&&t.form.controls.tags.controls[n].touched,t.form.controls.tags.controls[n].invalid&&t.form.controls.tags.controls[n].touched)),c(),f((t.form.controls.tags.controls[n].value==null?null:t.form.controls.tags.controls[n].value.length)===0?3:-1)}}var Wt=(()=>{let e=class e{constructor(t){this.loginService=t,this.form=new re({title:new g("",[p.required,p.minLength(3),p.maxLength(20)]),description:new g("",[p.maxLength(255)]),img:new g("",[p.required]),link:new g("",[p.required]),createDate:new g(this.startValueDate(),[p.required,this.dateValidator]),tags:new ue([new g("",p.required)])})}dateValidator(t){let s=new Date().getTime(),i=new Date(t.value).getTime();return s-i>0?null:{dateValidator:!0}}startValueDate(){let t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}getFormsControls(){return this.form.controls.tags}addTags(){this.form.controls.tags.push(new g("",p.required))}checkLengthTags(){return this.form.controls.tags.length>4}reset(){this.form.reset({title:"",description:"",img:"",link:"",createDate:this.startValueDate()}),this.form.controls.tags.clear(),this.form.controls.tags.push(new g("",p.required))}handleSubmit(){this.form.valid&&console.log(this.form.value)}};e.\u0275fac=function(s){return new(s||e)(F(me))},e.\u0275cmp=N({type:e,selectors:[["app-admin"]],standalone:!0,features:[S([Ce()]),L],decls:51,vars:31,consts:[[1,"form",3,"submit","formGroup"],[1,"form__title"],[1,"form__line"],["for","title",1,"line__label"],["type","text","id","title","formControlName","title",1,"line__input"],[1,"line",3,"ngClass"],[1,"start"],[1,"alert"],["for","description",1,"line__label"],["id","description","formControlName","description",1,"line__input","textarea"],["for","img",1,"line__label"],["type","text","id","img","formControlName","img",1,"line__input"],["for","link",1,"line__label"],["type","text","id","link","formControlName","link",1,"line__input"],["for","createDate",1,"line__label"],["type","date","id","createDate","formControlName","createDate",1,"line__input"],[1,"form__line_last"],[1,"line__tags"],[1,"line__label"],[1,"button__add","button",3,"mouseup","disabled"],["formArrayName","tags"],[1,"form__buttons"],[1,"button__reset","button",3,"mouseup"],["type","submit",1,"button__submit","button",3,"disabled"],["type","text","id","tags",1,"line__input",3,"formControlName"]],template:function(s,i){s&1&&(a(0,"main")(1,"form",0),A("submit",function(){return i.handleSubmit()}),a(2,"h2",1),l(3,"Create new card"),r(),a(4,"div",2)(5,"label",3),l(6,"Title"),r(),_(7,"input",4)(8,"div",5),b(9,Be,2,0,"div",6)(10,Ve,2,0,"div",7)(11,Ue,2,0,"div",7),r(),a(12,"div",2)(13,"label",8),l(14,"Description"),r(),_(15,"textarea",9)(16,"div",5),b(17,ze,2,0,"div",7),r(),a(18,"div",2)(19,"label",10),l(20,"Img"),r(),_(21,"input",11)(22,"div",5),b(23,$e,2,0,"div",6),r(),a(24,"div",2)(25,"label",12),l(26,"Link video"),r(),_(27,"input",13)(28,"div",5),b(29,He,2,0,"div",6),r(),a(30,"div",2)(31,"label",14),l(32,"Creation date"),r(),_(33,"input",15)(34,"div",5),b(35,Ke,2,0,"div",6)(36,Ge,2,0,"div",7),r(),a(37,"div",16)(38,"div",17)(39,"div",18),l(40,"Tags"),r(),a(41,"button",19),A("mouseup",function(){return i.addTags()}),l(42," Add tag "),r()(),a(43,"div",20),Q(44,Ze,4,6,null,null,X),r()(),a(46,"div",21)(47,"button",22),A("mouseup",function(){return i.reset()}),l(48,"Reset"),r(),a(49,"button",23),l(50," Create card "),r()()()()),s&2&&(c(),m("formGroup",i.form),c(7),m("ngClass",E(16,I,i.form.controls.title.valid&&i.form.controls.title.touched,i.form.controls.title.invalid&&i.form.controls.title.touched)),c(),f((i.form.controls.title.value==null?null:i.form.controls.title.value.length)===0?9:-1),c(),f(i.form.controls.title.errors!=null&&i.form.controls.title.errors.minlength?10:-1),c(),f(i.form.controls.title.errors!=null&&i.form.controls.title.errors.maxlength?11:-1),c(5),m("ngClass",E(19,I,i.form.controls.description.valid&&i.form.controls.description.touched,i.form.controls.description.invalid&&i.form.controls.description.touched)),c(),f(i.form.controls.description.errors!=null&&i.form.controls.description.errors.maxlength?17:-1),c(5),m("ngClass",E(22,I,i.form.controls.img.valid&&i.form.controls.img.touched,i.form.controls.img.invalid&&i.form.controls.img.touched)),c(),f((i.form.controls.img.value==null?null:i.form.controls.img.value.length)===0?23:-1),c(5),m("ngClass",E(25,I,i.form.controls.link.valid&&i.form.controls.link.touched,i.form.controls.link.invalid&&i.form.controls.link.touched)),c(),f((i.form.controls.link.value==null?null:i.form.controls.link.value.length)===0?29:-1),c(5),m("ngClass",E(28,I,i.form.controls.createDate.valid&&i.form.controls.createDate.touched,i.form.controls.createDate.invalid&&i.form.controls.createDate.touched)),c(),f((i.form.controls.createDate.value==null?null:i.form.controls.createDate.value.length)===0?35:-1),c(),f(i.form.controls.createDate.errors!=null&&i.form.controls.createDate.errors.dateValidator&&i.form.controls.createDate.value?36:-1),c(5),m("disabled",i.checkLengthTags()),c(3),J(i.getFormsControls().controls),c(5),m("disabled",i.form.invalid))},dependencies:[he,ae,ne,se,oe,ce,de,le,ie],styles:["main[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:center;width:100%;max-width:1440px;padding:45px 15px 15px;box-sizing:border-box}.form[_ngcontent-%COMP%]{width:100%;max-width:350px;background-color:#f2f2f2;border-radius:5px;padding:28px 20px 24px;box-sizing:border-box;position:relative}.form[_ngcontent-%COMP%]   .form__title[_ngcontent-%COMP%]{margin:0 0 11px;padding:0;font-size:18px;font-weight:700;line-height:100%}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin-bottom:5px}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__label[_ngcontent-%COMP%]{color:#828282;margin-left:6px;font-size:10px}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]{height:25px;background-color:#e0e0e0;outline:none;border:none;padding-left:5px;font-size:10px}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:hover{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:focus{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__line[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{height:75px;resize:none}.form[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:5px;margin-bottom:5px;width:100%;border-radius:0 0 5px 5px}.form[_ngcontent-%COMP%]   .line.invalid[_ngcontent-%COMP%]{background-color:red}.form[_ngcontent-%COMP%]   .line.valid[_ngcontent-%COMP%]{background-color:green}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin-bottom:52px}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__label[_ngcontent-%COMP%]{color:#828282;margin-left:6px;font-size:10px}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]{height:25px;background-color:#e0e0e0;outline:none;border:none;padding-left:5px;font-size:10px;width:100%;box-sizing:border-box}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:hover{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__line_last[_ngcontent-%COMP%]   .line__input[_ngcontent-%COMP%]:focus{outline:1px solid black}.form[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 40px);bottom:24px;box-sizing:border-box;display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{cursor:pointer;width:124px;height:30px;border-radius:5px;font-size:12px;color:#fff;background-color:#2f80ed;border:none;box-shadow:1px 0 3px #2f80ed}button[_ngcontent-%COMP%]:hover{background-color:#85b9ff}button[_ngcontent-%COMP%]:disabled{background-color:#85b9ff;box-shadow:1px 0 3px #85b9ff;cursor:default}.line__tags[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.button__add[_ngcontent-%COMP%]{width:60px;height:20px}.start[_ngcontent-%COMP%]{font-size:10px;margin-bottom:5px}.alert[_ngcontent-%COMP%]{font-size:10px;color:red;line-height:100%;margin-top:5px}"],changeDetection:0});let o=e;return o})();export{Wt as AdminComponent};
